local plr = game:GetService("Players").LocalPlayer
local mouse = plr:GetMouse()
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local pings = {}
local function GetPing()
    local sum = 0
    for i = 1, #pings do
        sum = sum + pings[i]
    end
    return sum / #pings
end

local function isMoving()
    local humanoid = character:FindFirstChildOfClass("Humanoid")
    if humanoid then
        return humanoid.MoveDirection.Magnitude > 0
    end
    return false
end
print("Loaded!")

mouse.KeyDown:Connect(function(key)
    if key == "e" then
        local ping = GetPing() / 1000 
        local standingDelay = 0.82 + 0.120 * ping
        local movingDelay = 1 - ping ^ 0.5
        if isMoving() then
            wait(movingDelay)
-- This script was generated by Hydroxide's RemoteSpy: https://github.com/Upbolt/Hydroxide

local ohString1 = "Shoot"
local ohBoolean2 = false

game:GetService("ReplicatedStorage").GameEvents.ClientAction:FireServer(ohString1, ohBoolean2)
print(movingDelay)
        else
            wait(standingDelay)
         -- This script was generated by Hydroxide's RemoteSpy: https://github.com/Upbolt/Hydroxide

local ohString1 = "Shoot"
local ohBoolean2 = false

game:GetService("ReplicatedStorage").GameEvents.ClientAction:FireServer(ohString1, ohBoolean2)

print(standingDelay)
        end
    end
end)

task.spawn(function()
    while task.wait() do
      table.insert(pings, game:GetService("Stats").PerformanceStats.Ping:GetValue())
      if #pings > 10 then
          table.remove(pings, 1)
      end
  end
end)
